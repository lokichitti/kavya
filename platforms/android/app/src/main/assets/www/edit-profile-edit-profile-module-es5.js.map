{"version":3,"sources":["./src/app/edit-profile/edit-profile.page.html","./src/app/edit-profile/edit-profile.module.ts","./src/app/edit-profile/edit-profile.page.scss","./src/app/edit-profile/edit-profile.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,k0B;;;;;;;;;;;;;;;;;;;;;;ACAyC;AACM;AACF;AACU;AAEV;AAES;AAEtD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kEAAe;KAC3B;CACF,CAAC;AAWF;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QATjC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,kEAAe,CAAC;SAChC,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;ACzBlC,4BAA4B,eAAe,uBAAuB,gBAAgB,iBAAiB,GAAG,kBAAkB,iBAAiB,kBAAkB,GAAG,6CAA6C,u2B;;;;;;;;;;;;;;;;;;;;;;ACA9I;AAEwB;AACxB;AACZ;AACR;AACQ;AAQjD;IAWE,yBACS,IAAiB,EACjB,KAAmB,EAClB,GAAqB,EACvB,MAAc,EACd,eAAgC;QALxC,iBAYE;QAXO,SAAI,GAAJ,IAAI,CAAa;QACjB,UAAK,GAAL,KAAK,CAAc;QAClB,QAAG,GAAH,GAAG,CAAkB;QACvB,WAAM,GAAN,MAAM,CAAQ;QACd,oBAAe,GAAf,eAAe,CAAiB;QANzC,SAAI,GAAY,KAAK;QAQlB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,GAAG,CAAC,WAAS,IAAI,CAAC,MAAM,EAAI,CAAC;QACnD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,eAAK;YACtD,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ;YAC9B,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC,UAAU;QACnC,CAAC,CAAC;IACD,CAAC;IAEF,kCAAQ,GAAR;IACA,CAAC;IACD,qCAAW,GAAX;QACA,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE;IACvB,CAAC;IACM,uCAAa,GAAnB;;;;;;KAiCA;;gBAnDe,wEAAW;gBACV,4DAAY;gBACb,wEAAgB;gBACf,sDAAM;gBACG,8DAAe;;IAhB7B,eAAe;QAL3B,+DAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;YAC5B,4JAAuC;;SAExC,CAAC;+EAae,wEAAW;YACV,4DAAY;YACb,wEAAgB;YACf,sDAAM;YACG,8DAAe;OAhB7B,eAAe,CAiE3B;IAAD,sBAAC;CAAA;AAjE2B","file":"edit-profile-edit-profile-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>EditProfile</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n\\n\\t\\t<div class=\\\"profile-info\\\">\\n\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t<ion-label position=\\\"floating\\\">Username</ion-label>\\n\\t\\t\\t\\t<ion-input [(ngModel)]=\\\"username\\\"></ion-input>\\n\\t\\t\\t</ion-item>\\n\\n\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t<ion-label position=\\\"floating\\\">New Password?</ion-label>\\n\\t\\t\\t\\t<ion-input [(ngModel)]=\\\"newpassword\\\"></ion-input>\\n\\t\\t\\t</ion-item>\\n\\n\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t<ion-label position=\\\"floating\\\">Enter old password</ion-label>\\n\\t\\t\\t\\t<ion-input [(ngModel)]=\\\"password\\\"></ion-input>\\n\\t\\t\\t</ion-item>\\n\\n\\t\\t\\t<ion-button fill=\\\"solid\\\" expand=\\\"block\\\" color=\\\"dark\\\" (click)=\\\"updateDetails()\\\">Save</ion-button>\\n\\t\\t</div>\\n\\n\\t</div>\\n\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditProfilePage } from './edit-profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditProfilePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [EditProfilePage]\n})\nexport class EditProfilePageModule {}\n","module.exports = \".filebtn {\\n  opacity: 0;\\n  position: absolute;\\n  top: -100em;\\n  left: -100em;\\n}\\n\\n.profile-pic {\\n  width: 200px;\\n  height: 200px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2htZWNkMDAxNTIzL2lvbmljLWRvbnQtZGVsZXRlL2ZpcmViYXNlLXdvcmtpbmcvcHJvZ3Jlc3Mvc3JjL2FwcC9lZGl0LXByb2ZpbGUvZWRpdC1wcm9maWxlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvZWRpdC1wcm9maWxlL2VkaXQtcHJvZmlsZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxVQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0NEOztBREVBO0VBQ0MsWUFBQTtFQUNBLGFBQUE7QUNDRCIsImZpbGUiOiJzcmMvYXBwL2VkaXQtcHJvZmlsZS9lZGl0LXByb2ZpbGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZpbGVidG4ge1xuXHRvcGFjaXR5OiAwO1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdHRvcDogLTEwMGVtO1xuXHRsZWZ0OiAtMTAwZW07XG59XG5cbi5wcm9maWxlLXBpYyB7XG5cdHdpZHRoOiAyMDBweDtcblx0aGVpZ2h0OiAyMDBweDtcbn0iLCIuZmlsZWJ0biB7XG4gIG9wYWNpdHk6IDA7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtMTAwZW07XG4gIGxlZnQ6IC0xMDBlbTtcbn1cblxuLnByb2ZpbGUtcGljIHtcbiAgd2lkdGg6IDIwMHB4O1xuICBoZWlnaHQ6IDIwMHB4O1xufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/firestore';\nimport { UserService } from '../services/user/user.services';\nimport { AlertController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { AlertService } from '../services/alert';\n\n\n@Component({\n  selector: 'app-edit-profile',\n  templateUrl: './edit-profile.page.html',\n  styleUrls: ['./edit-profile.page.scss'],\n})\nexport class EditProfilePage implements OnInit {\n\n  mainuser: AngularFirestoreDocument\n\tsub\n\tusername: string\n\tprofilePic: string\n\n\tpassword: string\n\tnewpassword: string\n\n\tbusy: boolean = false\n  constructor(\n    public user: UserService,\n    public alert: AlertService,\n    private afs: AngularFirestore,\n\t\tprivate router: Router,\n\t\tprivate alertController: AlertController,\n  ) {\n    this.mainuser = afs.doc(`users/${user.getUid()}`)\n\t\tthis.sub = this.mainuser.valueChanges().subscribe(event => {\n\t\t\tthis.username = event.username\n\t\t\tthis.profilePic = event.profilePic\n\t\t})\n   }\n   \n  ngOnInit() {\n  }\n  ngOnDestroy() {\n\t\tthis.sub.unsubscribe()\n\t}\n  async updateDetails() {\n\t/*\tthis.busy = true\n\n\t\tif(!this.password) {\n\t\t\tthis.busy = false\n\t\t\treturn this.presentAlert('Error!', 'You have to enter a password')\n\t\t}\n\n\t\ttry {\n\t\t\tawait this.user.reAuth(this.user.getUsername(), this.password)\n\t\t} catch(error) {\n\t\t\tthis.busy = false\n\t\t\treturn this.presentAlert('Error!', 'Wrong password!')\n\t\t}\n\n\t\tif(this.newpassword) {\n\t\t\tawait this.user.updatePassword(this.newpassword)\n\t\t}\n\n\t\tif(this.username !== this.user.getUsername()) {\n\t\t\tawait this.user.updateEmail(this.username)\n\t\t\tthis.mainuser.update({\n\t\t\t\tusername: this.username\n\t\t\t})\n\t\t}\n\n\t\tthis.password = \"\"\n\t\tthis.newpassword = \"\"\n\t\tthis.busy = false\n\n\t\tawait this.presentAlert('Done!', 'Your profile was updated!')\n\n\t\tthis.router.navigate(['/tabs/feed'])*/\n\t}\n\n}\n"],"sourceRoot":""}