{"version":3,"sources":["./src/app/components/auth-form/auth-form.component.html","./src/app/components/auth-form/auth-form.component.scss","./src/app/components/auth-form/auth-form.component.ts","./src/app/services/user/auth.service.ts","./src/app/shared-modules/auth.module.ts"],"names":[],"mappings":"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","file":"default~pages-login-login-module~pages-reset-password-reset-password-module~pages-signup-signup-module-es2015.js","sourcesContent":["module.exports = \"<form [formGroup]=\\\"authForm\\\">\\n  <ion-item>\\n    <ion-label position=\\\"stacked\\\">Email</ion-label>\\n    <ion-input\\n      formControlName=\\\"email\\\"\\n      type=\\\"email\\\"\\n      placeholder=\\\"Your email address\\\"\\n      [class.invalid]=\\\"!authForm.controls['email'].valid &&\\n authForm.controls['email'].touched\\\"\\n    >\\n    </ion-input>\\n  </ion-item>\\n  <ion-item\\n    class=\\\"error-message\\\"\\n    *ngIf=\\\"!authForm.controls['email'].valid &&\\n authForm.controls['email'].touched\\\"\\n  >\\n    <ion-label>Please enter a valid email address.</ion-label>\\n  </ion-item>\\n\\n  <ion-item *ngIf=\\\"!isPasswordResetPage\\\">\\n    <ion-label position=\\\"stacked\\\">Password</ion-label>\\n    <ion-input\\n      formControlName=\\\"password\\\"\\n      type=\\\"password\\\"\\n      placeholder=\\\"Your password\\\"\\n      [class.invalid]=\\\"!authForm.controls['password'].valid&& authForm.controls['password'].touched\\\"\\n    >\\n    </ion-input>\\n  </ion-item>\\n  <ion-item\\n    class=\\\"error-message\\\"\\n    *ngIf=\\\"!authForm.controls['password'].valid\\n && authForm.controls['password'].touched && !isPasswordResetPage\\\"\\n  >\\n    <ion-label>Your password needs more than 6 characters.</ion-label>\\n  </ion-item>\\n\\n  <ion-button\\n    (click)=\\\"submitCredentials(authForm)\\\"\\n    expand=\\\"block\\\"\\n    [disabled]=\\\"!authForm.valid\\\"\\n  >\\n    {{ actionButtonText }}\\n  </ion-button>\\n</form>\"","module.exports = \"form {\\n  padding: 12px;\\n  margin-bottom: 32px;\\n}\\nform ion-button {\\n  margin-top: 30px;\\n}\\np {\\n  font-size: 0.8em;\\n  color: #d2d2d2;\\n}\\nion-label {\\n  margin-left: 5px;\\n}\\nion-input {\\n  padding: 5px;\\n}\\n.invalid {\\n  border-bottom: 1px solid #ff6153;\\n}\\n.error-message {\\n  min-height: 2.2rem;\\n}\\n.error-message ion-label {\\n  margin: 2px 0;\\n  font-size: 60%;\\n  color: #ff6153;\\n}\\n.error-message .item-inner {\\n  border-bottom: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xva2VzaC9pb25pYy1kb250LWRlbGV0ZS9rYXZ5YW1tYS9sb2thcHBhL3NyYy9hcHAvY29tcG9uZW50cy9hdXRoLWZvcm0vYXV0aC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL2F1dGgtZm9ybS9hdXRoLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7QUNDSjtBREFJO0VBQ0UsZ0JBQUE7QUNFTjtBREVFO0VBQ0UsZ0JBQUE7RUFDQSxjQUFBO0FDQ0o7QURFRTtFQUNFLGdCQUFBO0FDQ0o7QURFRTtFQUNFLFlBQUE7QUNDSjtBREVFO0VBQ0UsZ0NBQUE7QUNDSjtBREVFO0VBQ0Usa0JBQUE7QUNDSjtBREFJO0VBQ0UsYUFBQTtFQUNBLGNBQUE7RUFDQSxjQUFBO0FDRU47QURBSTtFQUNFLGdCQUFBO0FDRU4iLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2F1dGgtZm9ybS9hdXRoLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJmb3JtIHtcbiAgICBwYWRkaW5nOiAxMnB4O1xuICAgIG1hcmdpbi1ib3R0b206IDMycHg7XG4gICAgaW9uLWJ1dHRvbiB7XG4gICAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgIH1cbiAgfVxuICBcbiAgcCB7XG4gICAgZm9udC1zaXplOiAwLjhlbTtcbiAgICBjb2xvcjogI2QyZDJkMjtcbiAgfVxuICBcbiAgaW9uLWxhYmVsIHtcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xuICB9XG4gIFxuICBpb24taW5wdXQge1xuICAgIHBhZGRpbmc6IDVweDtcbiAgfVxuICBcbiAgLmludmFsaWQge1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZmY2MTUzO1xuICB9XG4gIFxuICAuZXJyb3ItbWVzc2FnZSB7XG4gICAgbWluLWhlaWdodDogMi4ycmVtO1xuICAgIGlvbi1sYWJlbCB7XG4gICAgICBtYXJnaW46IDJweCAwO1xuICAgICAgZm9udC1zaXplOiA2MCU7XG4gICAgICBjb2xvcjogI2ZmNjE1MztcbiAgICB9XG4gICAgLml0ZW0taW5uZXIge1xuICAgICAgYm9yZGVyLWJvdHRvbTogMDtcbiAgICB9XG4gIH0iLCJmb3JtIHtcbiAgcGFkZGluZzogMTJweDtcbiAgbWFyZ2luLWJvdHRvbTogMzJweDtcbn1cbmZvcm0gaW9uLWJ1dHRvbiB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG59XG5cbnAge1xuICBmb250LXNpemU6IDAuOGVtO1xuICBjb2xvcjogI2QyZDJkMjtcbn1cblxuaW9uLWxhYmVsIHtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbn1cblxuaW9uLWlucHV0IHtcbiAgcGFkZGluZzogNXB4O1xufVxuXG4uaW52YWxpZCB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZmY2MTUzO1xufVxuXG4uZXJyb3ItbWVzc2FnZSB7XG4gIG1pbi1oZWlnaHQ6IDIuMnJlbTtcbn1cbi5lcnJvci1tZXNzYWdlIGlvbi1sYWJlbCB7XG4gIG1hcmdpbjogMnB4IDA7XG4gIGZvbnQtc2l6ZTogNjAlO1xuICBjb2xvcjogI2ZmNjE1Mztcbn1cbi5lcnJvci1tZXNzYWdlIC5pdGVtLWlubmVyIHtcbiAgYm9yZGVyLWJvdHRvbTogMDtcbn0iXX0= */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { UserCredential } from 'src/app/models/user';\nimport { LoadingController, AlertController } from '@ionic/angular';\n\n@Component({\n selector: 'app-auth-form',\n templateUrl: './auth-form.component.html',\n styleUrls: ['./auth-form.component.scss']\n})\nexport class AuthFormComponent implements OnInit {\n public loading: HTMLIonLoadingElement;\n public authForm: FormGroup;\n @Input() actionButtonText: string;\n @Input() isPasswordResetPage = false;\n @Output() formSubmitted = new EventEmitter<any>();\n\n constructor(\n private formBuilder: FormBuilder,\n private loadingCtrl: LoadingController,\n private alertCtrl: AlertController\n ) {\n this.authForm = this.formBuilder.group({\n email: ['', Validators.compose([Validators.required, Validators.email])],\n password: ['', Validators.minLength(6)]\n });\n }\n\n ngOnInit() {}\n\n async showLoading(): Promise<void> {\n  this.loading = await this.loadingCtrl.create();\n  await this.loading.present();\n }\n \n hideLoading(): Promise<boolean> {\n  return this.loading.dismiss();\n }\n \n async handleError(error): Promise<void> {\n  const alert = await this.alertCtrl.create({\n  message: error.message,\n  buttons: [{ text: 'Ok', role: 'cancel' }]\n  });\n  await alert.present();\n }\n\n submitCredentials(authForm: FormGroup): void {\n  if (!authForm.valid) {\n  console.log('Form is not valid yet, current value:', authForm.value);\n  } else {\n  this.showLoading();\n  const credentials: UserCredential = {\n  email: authForm.value.email,\n  password: authForm.value.password\n  };\n  this.formSubmitted.emit(credentials);\n  }\n }\n}","import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { first } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { ProfileService } from 'src/app/services/profile.service';\nimport { LoadingController, AlertController } from '@ionic/angular';\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  public userId: string;\n  constructor(\n    private afAuth: AngularFireAuth,\n    private firestore: AngularFirestore,\n    public loadingCtrl: LoadingController,\n    private router: Router,    \n\n  ) { }\n\n  async createProfile(uId, values)\n  {\n      const loading = await this.loadingCtrl.create();    \n      const email = values.email;\n      const fName = values.name;\n      const lName = values.lastname;\n      const password = values.matching_passwords.password;\n      this.createUser(uId,email, fName, lName, password )\n        .then(\n          () => {\n            loading.dismiss().then(() => {\n            });\n          },\n          error => {\n            console.error(error);\n          }\n        );\n    \n      return await loading.present();\n  }\n\n  async createUser( uId: string, email: string, fName: string,\n    lName: string, password: string): Promise<void> {\n\n      await this.firestore.doc(`userProfile/${uId}`).set({\n        uId,\n        email,\n        fName,\n        lName,\n        password\n      });\n    }\n  getUser(): Promise<firebase.User> {\n    return this.afAuth.authState.pipe(first()).toPromise();\n   }\n\n   login(\n    email: string,\n    password: string\n   ): Promise<firebase.auth.UserCredential> {\n    return this.afAuth.auth.signInWithEmailAndPassword(email, password);\n   }\n\n   async signup(values): Promise<firebase.auth.UserCredential> {\n    const newUserCredential: firebase.auth.UserCredential = await this.afAuth.auth.createUserWithEmailAndPassword(\n      values.email,\n      values.matching_passwords.password\n    );\n   /* const email = values.email;\n    const password = values.matching_passwords.password;\n    const firstName = values.fName;\n    const lastName = values.lName;\n    await this.firestore\n    .doc(`userProfile/${newUserCredential.user.uid}`)\n    .set({ \n      email,\n      password,\n      firstName,\n      lastName\n    });*/\n    return newUserCredential;\n   }\n\n   resetPassword(email: string): Promise<void> {\n    return this.afAuth.auth.sendPasswordResetEmail(email);\n   }\n   \n   logout(): Promise<void> {\n    return this.afAuth.auth.signOut();\n   }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AuthFormComponent } from 'src/app/components/auth-form/auth-form.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, ReactiveFormsModule],\n  declarations: [AuthFormComponent],\n  exports: [AuthFormComponent],\n  entryComponents: [AuthFormComponent]\n})\nexport class AuthModule {}"],"sourceRoot":""}