{"version":3,"sources":["./src/app/edit-profile/edit-profile.page.html","./src/app/edit-profile/edit-profile.module.ts","./src/app/edit-profile/edit-profile.page.scss","./src/app/edit-profile/edit-profile.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,k0B;;;;;;;;;;;;;;;;;;;;;;ACAyC;AACM;AACF;AACU;AAEV;AAES;AAEtD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kEAAe;KAC3B;CACF,CAAC;AAWF,IAAa,qBAAqB,GAAlC,MAAa,qBAAqB;CAAG;AAAxB,qBAAqB;IATjC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,kEAAe,CAAC;KAChC,CAAC;GACW,qBAAqB,CAAG;AAAH;;;;;;;;;;;;ACzBlC,4BAA4B,eAAe,uBAAuB,gBAAgB,iBAAiB,GAAG,kBAAkB,iBAAiB,kBAAkB,GAAG,6CAA6C,m1B;;;;;;;;;;;;;;;;;;;;;;ACA9I;AAEwB;AACxB;AACZ;AACR;AACQ;AAQjD,IAAa,eAAe,GAA5B,MAAa,eAAe;IAW1B,YACS,IAAiB,EACjB,KAAmB,EAClB,GAAqB,EACvB,MAAc,EACd,eAAgC;QAJ/B,SAAI,GAAJ,IAAI,CAAa;QACjB,UAAK,GAAL,KAAK,CAAc;QAClB,QAAG,GAAH,GAAG,CAAkB;QACvB,WAAM,GAAN,MAAM,CAAQ;QACd,oBAAe,GAAf,eAAe,CAAiB;QANzC,SAAI,GAAY,KAAK;QAQlB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,GAAG,CAAC,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC;QACnD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACzD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ;YAC9B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,UAAU;QACnC,CAAC,CAAC;IACD,CAAC;IAEF,QAAQ;IACR,CAAC;IACD,WAAW;QACX,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE;IACvB,CAAC;IACM,aAAa;;YACpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sDA+BuC;QACvC,CAAC;KAAA;CAED;;YArDgB,wEAAW;YACV,4DAAY;YACb,wEAAgB;YACf,sDAAM;YACG,8DAAe;;AAhB7B,eAAe;IAL3B,+DAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;QAC5B,4JAAuC;;KAExC,CAAC;2EAae,wEAAW;QACV,4DAAY;QACb,wEAAgB;QACf,sDAAM;QACG,8DAAe;GAhB7B,eAAe,CAiE3B;AAjE2B","file":"edit-profile-edit-profile-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>EditProfile</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n\\n\\t\\t<div class=\\\"profile-info\\\">\\n\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t<ion-label position=\\\"floating\\\">Username</ion-label>\\n\\t\\t\\t\\t<ion-input [(ngModel)]=\\\"username\\\"></ion-input>\\n\\t\\t\\t</ion-item>\\n\\n\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t<ion-label position=\\\"floating\\\">New Password?</ion-label>\\n\\t\\t\\t\\t<ion-input [(ngModel)]=\\\"newpassword\\\"></ion-input>\\n\\t\\t\\t</ion-item>\\n\\n\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t<ion-label position=\\\"floating\\\">Enter old password</ion-label>\\n\\t\\t\\t\\t<ion-input [(ngModel)]=\\\"password\\\"></ion-input>\\n\\t\\t\\t</ion-item>\\n\\n\\t\\t\\t<ion-button fill=\\\"solid\\\" expand=\\\"block\\\" color=\\\"dark\\\" (click)=\\\"updateDetails()\\\">Save</ion-button>\\n\\t\\t</div>\\n\\n\\t</div>\\n\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditProfilePage } from './edit-profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditProfilePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [EditProfilePage]\n})\nexport class EditProfilePageModule {}\n","module.exports = \".filebtn {\\n  opacity: 0;\\n  position: absolute;\\n  top: -100em;\\n  left: -100em;\\n}\\n\\n.profile-pic {\\n  width: 200px;\\n  height: 200px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xva2VzaC9pb25pYy1kb250LWRlbGV0ZS9rYXZ5YW1tYS9sb2thcHBhL3NyYy9hcHAvZWRpdC1wcm9maWxlL2VkaXQtcHJvZmlsZS5wYWdlLnNjc3MiLCJzcmMvYXBwL2VkaXQtcHJvZmlsZS9lZGl0LXByb2ZpbGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsVUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRDs7QURFQTtFQUNDLFlBQUE7RUFDQSxhQUFBO0FDQ0QiLCJmaWxlIjoic3JjL2FwcC9lZGl0LXByb2ZpbGUvZWRpdC1wcm9maWxlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5maWxlYnRuIHtcblx0b3BhY2l0eTogMDtcblx0cG9zaXRpb246IGFic29sdXRlO1xuXHR0b3A6IC0xMDBlbTtcblx0bGVmdDogLTEwMGVtO1xufVxuXG4ucHJvZmlsZS1waWMge1xuXHR3aWR0aDogMjAwcHg7XG5cdGhlaWdodDogMjAwcHg7XG59IiwiLmZpbGVidG4ge1xuICBvcGFjaXR5OiAwO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogLTEwMGVtO1xuICBsZWZ0OiAtMTAwZW07XG59XG5cbi5wcm9maWxlLXBpYyB7XG4gIHdpZHRoOiAyMDBweDtcbiAgaGVpZ2h0OiAyMDBweDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/firestore';\nimport { UserService } from '../services/user/user.services';\nimport { AlertController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { AlertService } from '../services/alert';\n\n\n@Component({\n  selector: 'app-edit-profile',\n  templateUrl: './edit-profile.page.html',\n  styleUrls: ['./edit-profile.page.scss'],\n})\nexport class EditProfilePage implements OnInit {\n\n  mainuser: AngularFirestoreDocument\n\tsub\n\tusername: string\n\tprofilePic: string\n\n\tpassword: string\n\tnewpassword: string\n\n\tbusy: boolean = false\n  constructor(\n    public user: UserService,\n    public alert: AlertService,\n    private afs: AngularFirestore,\n\t\tprivate router: Router,\n\t\tprivate alertController: AlertController,\n  ) {\n    this.mainuser = afs.doc(`users/${user.getUid()}`)\n\t\tthis.sub = this.mainuser.valueChanges().subscribe(event => {\n\t\t\tthis.username = event.username\n\t\t\tthis.profilePic = event.profilePic\n\t\t})\n   }\n   \n  ngOnInit() {\n  }\n  ngOnDestroy() {\n\t\tthis.sub.unsubscribe()\n\t}\n  async updateDetails() {\n\t/*\tthis.busy = true\n\n\t\tif(!this.password) {\n\t\t\tthis.busy = false\n\t\t\treturn this.presentAlert('Error!', 'You have to enter a password')\n\t\t}\n\n\t\ttry {\n\t\t\tawait this.user.reAuth(this.user.getUsername(), this.password)\n\t\t} catch(error) {\n\t\t\tthis.busy = false\n\t\t\treturn this.presentAlert('Error!', 'Wrong password!')\n\t\t}\n\n\t\tif(this.newpassword) {\n\t\t\tawait this.user.updatePassword(this.newpassword)\n\t\t}\n\n\t\tif(this.username !== this.user.getUsername()) {\n\t\t\tawait this.user.updateEmail(this.username)\n\t\t\tthis.mainuser.update({\n\t\t\t\tusername: this.username\n\t\t\t})\n\t\t}\n\n\t\tthis.password = \"\"\n\t\tthis.newpassword = \"\"\n\t\tthis.busy = false\n\n\t\tawait this.presentAlert('Done!', 'Your profile was updated!')\n\n\t\tthis.router.navigate(['/tabs/feed'])*/\n\t}\n\n}\n"],"sourceRoot":""}