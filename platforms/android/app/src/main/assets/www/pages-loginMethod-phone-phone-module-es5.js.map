{"version":3,"sources":["./src/app/pages/loginMethod/phone/phone.page.html","./src/app/pages/loginMethod/phone/phone.module.ts","./src/app/pages/loginMethod/phone/phone.page.scss","./src/app/pages/loginMethod/phone/phone.page.ts"],"names":[],"mappings":"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","file":"pages-loginMethod-phone-phone-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n      <ion-title>Login</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  \\n  <ion-content padding class=\\\"form-content\\\">\\n      <form [formGroup]=\\\"validations_form\\\"  (ngSubmit)=\\\"onSubmit(validations_form)\\\">\\n                   \\n            <div formGroupName=\\\"country_phone\\\">\\n              <ion-item>\\n                <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Country</ion-label>\\n                <ion-select formControlName=\\\"country\\\" cancelText=\\\"Cancel\\\" okText=\\\"OK\\\">\\n                  <ion-select-option *ngFor=\\\"let item of countries\\\" [value]=\\\"item\\\">{{item.name}}</ion-select-option>\\n                </ion-select>\\n              </ion-item>\\n              <ion-item>\\n                <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Phone</ion-label>\\n                <ion-input placeholder=\\\"Enter 10 digit mobile number\\\" type=\\\"text\\\" formControlName=\\\"phone\\\"></ion-input>\\n              </ion-item>\\n              <div class=\\\"validation-errors\\\">\\n                <ng-container *ngFor=\\\"let validation of validation_messages.phone\\\">\\n                  <div class=\\\"error-message\\\" *ngIf=\\\"validations_form.get('country_phone').get('phone').hasError(validation.type) && (validations_form.get('country_phone').get('phone').dirty || validations_form.get('country_phone').get('phone').touched)\\\">\\n                    <ion-icon name=\\\"information-circle-outline\\\"></ion-icon> {{ validation.message }}\\n                  </div>\\n                </ng-container>\\n              </div>\\n            </div>\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Password</ion-label>\\n                <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n              </ion-item>\\n              <div class=\\\"validation-errors\\\">\\n                <ng-container *ngFor=\\\"let validation of validation_messages.password\\\">\\n                  <div class=\\\"error-message\\\" *ngIf=\\\"validations_form.get('password').hasError(validation.type) && (validations_form.get('password').dirty || validations_form.get('password').touched)\\\">\\n                    <ion-icon name=\\\"information-circle-outline\\\"></ion-icon> {{ validation.message }}\\n                  </div>\\n                </ng-container>\\n              </div>\\n            <ion-button color=\\\"primary\\\" class=\\\"login-margin\\\" expand=\\\"full\\\" type=\\\"submit\\\" [disabled]=\\\"!validations_form.valid\\\" [disabled]=\\\"disableGetOTPButton\\\">Submit</ion-button>\\n      </form>\\n      <ion-item>\\n          <ion-label position=\\\"floating\\\">OTP</ion-label>\\n          <ion-input color = \\\"primary\\\" type=\\\"text\\\" placeholder=\\\"Enter code\\\" [(ngModel)]=\\\"OTPcode\\\"></ion-input>\\n        </ion-item>\\n        \\n      <ion-button class=\\\"login-margin\\\" expand=\\\"full\\\" (click)=\\\"verify(validations_form)\\\" [disabled]=\\\"disableVerifyButton\\\">Verify OTP</ion-button>\\n    \\n      <div>\\n          <button [routerLink]=\\\"['/register']\\\" align=\\\"center\\\" class=\\\"register-margin\\\">\\n            <img src=\\\"assets/image/register.png\\\">\\n          </button>\\n        \\n          <button [routerLink]=\\\"['/reset-password']\\\" align=\\\"center\\\" class=\\\"register-margin\\\">\\n            <img src=\\\"assets/image/forgot-password.png\\\">\\n          </button>\\n        </div>\\n    </ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { PhonePage } from './phone.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PhonePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PhonePage]\n})\nexport class PhonePageModule {}\n","module.exports = \".error-message {\\n  color: red;\\n  font-size: 14px;\\n  margin-left: 10px;\\n  margin-top: 10px;\\n}\\n\\n.submit-btn {\\n  margin-top: 40px;\\n}\\n\\n.home-style {\\n  text-align: center;\\n  margin-top: 2000px;\\n}\\n\\n.login-margin {\\n  margin-top: 10px;\\n  margin-left: 20px;\\n  margin-right: 20px;\\n}\\n\\n.register-margin {\\n  margin-top: 50px;\\n  margin-left: 20px;\\n  margin-right: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2htZWNkMDAxNTIzL2lvbmljLWRvbnQtZGVsZXRlL2ZpcmViYXNlLXdvcmtpbmcvcHJvZ3Jlc3Mvc3JjL2FwcC9wYWdlcy9sb2dpbk1ldGhvZC9waG9uZS9waG9uZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2xvZ2luTWV0aG9kL3Bob25lL3Bob25lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVFLFVBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQ0FGOztBREdBO0VBQ0UsZ0JBQUE7QUNBRjs7QURJQTtFQUVFLGtCQUFBO0VBQ0Esa0JBQUE7QUNGRjs7QURLQTtFQUVFLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQ0hGOztBRE1BO0VBRUUsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FDSkYiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9sb2dpbk1ldGhvZC9waG9uZS9waG9uZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZXJyb3ItbWVzc2FnZVxue1xuICBjb2xvcjogcmVkO1xuICBmb250LXNpemU6IDE0cHg7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG4uc3VibWl0LWJ0biB7XG4gIG1hcmdpbi10b3A6IDQwcHg7XG59XG5cblxuLmhvbWUtc3R5bGVcbntcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tdG9wOiAyMDAwcHg7XG59XG5cbi5sb2dpbi1tYXJnaW5cbntcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gIG1hcmdpbi1yaWdodDogMjBweDtcbn1cblxuLnJlZ2lzdGVyLW1hcmdpblxue1xuICBtYXJnaW4tdG9wOiA1MHB4O1xuICBtYXJnaW4tbGVmdDogMjBweDtcbiAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xufVxuIiwiLmVycm9yLW1lc3NhZ2Uge1xuICBjb2xvcjogcmVkO1xuICBmb250LXNpemU6IDE0cHg7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG4uc3VibWl0LWJ0biB7XG4gIG1hcmdpbi10b3A6IDQwcHg7XG59XG5cbi5ob21lLXN0eWxlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tdG9wOiAyMDAwcHg7XG59XG5cbi5sb2dpbi1tYXJnaW4ge1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICBtYXJnaW4tbGVmdDogMjBweDtcbiAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xufVxuXG4ucmVnaXN0ZXItbWFyZ2luIHtcbiAgbWFyZ2luLXRvcDogNTBweDtcbiAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gIG1hcmdpbi1yaWdodDogMjBweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { AbstractControl, ValidatorFn } from '@angular/forms';\nimport libphonenumber from 'google-libphonenumber';\nimport { CountryPhone } from '../../../models/country-phone.model';\nimport { Validators, FormBuilder} from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { FirebaseX } from \"@ionic-native/firebase-x/ngx\";\nimport { FirebaseAuthentication } from '@ionic-native/firebase-authentication/ngx';\nimport { \n  UsernameValidator, \n  PhoneValidator, \n  PasswordValidator } from '../../../models/validators';\nimport * as firebase from 'firebase';\nimport { AlertController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/user/auth.service';\nimport { AlertService } from '../../../services/alert';\nimport { Storage } from '@ionic/storage';\n//import { userInfo } from 'os';\n\n  var phoneSignInWithVerificationId: any;\n  var phoneNumber: string;\n\n@Component({\n  selector: 'app-phone',\n  templateUrl: './phone.page.html',\n  styleUrls: ['./phone.page.scss'],\n})\nexport class PhonePage implements OnInit {\n\n\n  OTP: string = '';\n  showOTPInput: boolean = false;\n  OTPmessage: string = 'An OTP is sent to your number. You should receive it in 15 s'\n  verificationId1: any;\n  code: number;\n  OTPcode: number;\n  validations_form: FormGroup;\n  country_phone_group: FormGroup;\n  disableVerifyButton: boolean = true;\n  disableGetOTPButton: boolean = false;\n  countries: Array<CountryPhone>;\n  matching_passwords_group: FormGroup;\n\n  \n  constructor(\n    public formBuilder: FormBuilder,\n    private router: Router,\n    private authService: AuthService,\n    private firebaseAuthentication: FirebaseAuthentication,\n    private alertCtrl: AlertController,\n    private toastCtrl: ToastController,\n    public alert: AlertService,\n    private storage: Storage\n  ) { }\n\n  ngOnInit() {\n    this.countries = [\n      new CountryPhone('IN', 'India'),\n      new CountryPhone('US', 'United States'),\n      new CountryPhone('BR', 'Brasil'),\n      new CountryPhone('AF', 'Afganistan'),\n      new CountryPhone('AL', 'Albania'),\n      new CountryPhone('DZ', 'Algeria'),\n      new CountryPhone('AS', 'American Samoa'),\n      new CountryPhone('AD', 'Andorra'),\n      new CountryPhone('AO', 'Angola'),\n      new CountryPhone('AI', 'Anguilla'),\n      /*new CountryPhone('AQ', 'Antarctica'),\n      new CountryPhone('AG', 'Antigua and Barbuda'),\n      new CountryPhone('AR', 'Argentina'),\n      new CountryPhone('AM', 'Armenia'),\n      new CountryPhone('AW', 'Aruba'),\n      new CountryPhone('AU', 'Australia'),\n      new CountryPhone('AT', 'Austria'),\n      new CountryPhone('AZ', 'Azerbaijan'),*/\n    ];\n\n    this.matching_passwords_group = new FormGroup({\n      password: new FormControl('', Validators.compose([\n        Validators.minLength(5),\n        Validators.required,\n        Validators.pattern('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$')\n      ])),\n      confirm_password: new FormControl('', Validators.required)\n    }, (formGroup: FormGroup) => {\n      return PasswordValidator.areEqual(formGroup);\n    });\n\n    let country = new FormControl(this.countries[0], Validators.required);\n    let phone = new FormControl('', Validators.compose([\n      Validators.required,\n      PhoneValidator.validCountryPhone(country)\n    ]));\n    this.country_phone_group = new FormGroup({\n      country: country,\n      phone: phone\n    });\n\n    this.validations_form = this.formBuilder.group({      \n      country_phone: this.country_phone_group,\n      password: new FormControl('', Validators.required)\n    });\n  }\n  validation_messages = {\n    'name': [\n      { type: 'required', message: 'Name is required.' }\n    ],\n    'lastname': [\n      { type: 'required', message: 'Last name is required.' }\n    ],\n    'phone': [\n      { type: 'required', message: 'Phone is required.' },\n      { type: 'validCountryPhone', message: 'The phone is incorrect for the selected country.' }\n    ],\n    'password': [\n      { type: 'required', message: 'Password is required.' },\n    ],\n    'confirm_password': [\n      { type: 'required', message: 'Confirm password is required.' }\n    ],\n    'matching_passwords': [\n      { type: 'areEqual', message: 'Password mismatch.' }\n    ],\n    'terms': [\n      { type: 'pattern', message: 'You must accept terms and conditions.' }\n    ],\n  };\n  async onSubmit(values): Promise<void> {\n    \n    phoneNumber = values.value.country_phone.country.code + values.value.country_phone.phone;\n    console.log(\"Get OTP called \" + phoneNumber);\n    this.disableGetOTPButton = true;\n    this.disableVerifyButton = false;\n    this.presentAlertPrompt(values);\n    this.firebaseAuthentication.verifyPhoneNumber(phoneNumber, 60000).then (function(verificationId) {\n      phoneSignInWithVerificationId = verificationId;\n    this.presentAlertPrompt(values);\n    }).catch(e => {\n      console.log(e);\n  }); \n}\n\nasync verify(values){\n    await this.alert.showLoading();\n    this.firebaseAuthentication.signInWithVerificationId(phoneSignInWithVerificationId ,this.OTPcode);\n      console.log(\"signInWithVerificationId called\");\n      await this.alert.hideLoading();\n      this.router.navigate([\"/menu/home\"]); \n}\n\nasync presentAlertPrompt(values) {\n  console.log(\"presentAlertPrompt called\");\n  const alert = await this.alertCtrl.create({\n    header: 'OTP Sent Successfully',\n    inputs: [\n      {\n        name: 'OTP',\n        type: 'text',\n        placeholder: 'Enter OTP'\n      }\n    ],\n    buttons: [\n      {\n        text: 'Cancel',\n        role: 'cancel',\n        cssClass: 'primary',\n        handler: () => {\n          console.log('Confirm Cancel');\n          //this.alert.showLoading(); \n          //this.alert.presentAlert('Please wait', 'Thanks for your patience');                \n        }\n      }, {\n        text: 'Ok',\n        handler: (data) => {\n          this.OTPcode = data.OTP;\n          this.verify(values);\n          console.log('Confirm Ok');\n        }\n      }\n    ],\n    backdropDismiss: false\n  });\n\n  await alert.present();\n  setTimeout(()=>{\n    //this.alert.hideLoading();    \n    alert.dismiss();\n}, 60000);\n}\n  async loginUser(values): Promise<void> {\n    try {\n      this.alert.showLoading();\n      const userCredential: firebase.auth.UserCredential = await this.authService.login(\n      values.value.country_phone.country.code + values.value.country_phone.phone,\n      values.value.password    \n      );\n        this.authService.userId = userCredential.user.uid;\n        await this.alert.hideLoading();\n        this.alert.presentAlert('Success', 'You are logged in!')\n        this.router.navigate([\"/menu/home\"]);\n      } catch (error) {\n        await this.alert.hideLoading();\n        this.alert.handleError(error);\n        //this.alert.presentAlert('Error', 'Invalid phone or password!')\n      }\n      \n    }\n}\n"],"sourceRoot":""}