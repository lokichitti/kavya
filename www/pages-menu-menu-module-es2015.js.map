{"version":3,"sources":["./src/app/pages/menu/menu.page.html","./src/app/pages/menu/menu.module.ts","./src/app/pages/menu/menu.page.scss","./src/app/pages/menu/menu.page.ts","./src/app/services/user/auth.guard.ts"],"names":[],"mappings":"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","file":"pages-menu-menu-module-es2015.js","sourcesContent":["module.exports = \"<ion-split-pane>\\n  <ion-menu contentId = \\\"content\\\">\\n    <ion-header>\\n      <ion-toolbar  color = \\\"secondary\\\">\\n          <ion-buttons slot=\\\"start\\\">\\n              <ion-menu-button color = \\\"dark\\\"></ion-menu-button>\\n            </ion-buttons>\\n            <ion-buttons slot=\\\"end\\\">\\n                <ion-button (click)=\\\"closeMenu()\\\">\\n                    <ion-icon slot= \\\"icon-only\\\" name=\\\"arrow-dropleft\\\" color=\\\"dark\\\"></ion-icon>\\n                </ion-button>\\n              </ion-buttons>\\n        <ion-title color = \\\"dark\\\" size=\\\"medium\\\" text-center>Menu</ion-title>\\n      </ion-toolbar>\\n    </ion-header>\\n\\n    <ion-content >\\n      <ion-list>\\n        <ion-menu-toggle auto-hide=\\\"false\\\" *ngFor=\\\"let p of pages\\\">\\n          <ion-card color = \\\"tertiary\\\">\\n          <ion-item color = \\\"light\\\" [routerLink] = \\\"p.url\\\" routerDirection=\\\"root\\\" [class.active-item]=\\\"selectedPath === p.url\\\">\\n              <ion-col class=\\\"ion-text-start\\\" size=\\\"5\\\">\\n                  <ion-icon [name]=\\\"p.icon\\\" item-left></ion-icon>\\n              </ion-col>\\n              <ion-col class=\\\"ion-text-start\\\" size=\\\"5\\\"> {{p.title}} </ion-col>\\n          </ion-item>\\n        </ion-card>\\n        </ion-menu-toggle>\\n      </ion-list>\\n    </ion-content>\\n  </ion-menu>\\n  <ion-router-outlet id=\\\"content\\\" main>\\n\\n  </ion-router-outlet>\\n</ion-split-pane>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { redirectUnauthorizedTo, canActivate } from '@angular/fire/auth-guard';\nimport { AuthGuard } from '../../services/user/auth.guard';\nimport { IonicModule } from '@ionic/angular';\nimport { MenuPage } from './menu.page';\n\nconst redirectToFirst = redirectUnauthorizedTo(['first']);\nconst routes: Routes = [\n  {\n    path:'',\n    component: MenuPage,\n    children:[\n      { path: 'home', loadChildren: '../home/home.module#HomePageModule'},\n      { path: 'profile', loadChildren: '../profile/profile.module#ProfilePageModule',},\n      //{ path: 'shop', loadChildren: '../shop/shop.module#ShopPageModule',},\n      //{ path: 'profile', loadChildren: '../profile/profile.module#ProfilePageModule',...canActivate(redirectToFirst)},\n      { path: 'shop', loadChildren: '../shop/shop.module#ShopPageModule',...canActivate(redirectToFirst)},\n      { path: 'basket', loadChildren: '../basket/basket.module#BasketPageModule',\n      canActivate: [AuthGuard] },\n      { path: 'orders', loadChildren: '../orders/orders.module#OrdersPageModule' },\n      { path: 'search', loadChildren: '../search/search.module#SearchPageModule' },\n    ]\n\n  },\n  {\n    path: '', \n    redirectTo: '/menu/home'\n\n  },\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MenuPage]\n})\nexport class MenuPageModule {}\n","module.exports = \".active-item {\\n  border-left: 8px solid var --ion-color-primary;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2htZWNkMDAxNTIzL2lvbmljLWRvbnQtZGVsZXRlL2ZpcmViYXNlLXdvcmtpbmcvcHJvZ3Jlc3Mvc3JjL2FwcC9wYWdlcy9tZW51L21lbnUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9tZW51L21lbnUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksOENBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL21lbnUvbWVudS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWN0aXZlLWl0ZW17XG4gICAgYm9yZGVyLWxlZnQ6IDhweCBzb2xpZCB2YXIgKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufSIsIi5hY3RpdmUtaXRlbSB7XG4gIGJvcmRlci1sZWZ0OiA4cHggc29saWQgdmFyIC0taW9uLWNvbG9yLXByaW1hcnk7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { MenuController } from '@ionic/angular';\nimport { Router, RouterEvent } from '@angular/router';\n@Component({\n  selector: 'app-menu',\n  templateUrl: './menu.page.html',\n  styleUrls: ['./menu.page.scss'],\n})\nexport class MenuPage implements OnInit {\n\n  pages=[\n    {\n      icon:\"home\",\n      title:\"Home\",\n      url:\"/menu/home\"\n    },\n    {\n      icon:\"basket\",\n      title:\"My shop\",\n      url:\"/menu/shop\"\n    },\n    {\n      icon:\"basket\",\n      title:\"Orders\",\n      url:\"/menu/orders\"\n    },\n    {\n      icon:\"person\",\n      title:\"Profile\",\n      url:\"/menu/profile\"\n    },\n  ];\n  selectedPath='';\n\n  constructor(\n    public menuCtrl: MenuController,\n    private router: Router,\n  ) \n  {\n    this.router.events.subscribe((event: RouterEvent) => {\n      this.selectedPath = event.url;\n    });\n   }\n\n  ngOnInit() {\n  }\n  closeMenu(){\n    this.menuCtrl.close();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { FirebaseAuthentication } from '@ionic-native/firebase-authentication/ngx';\nimport {\n  CanActivate,\n  ActivatedRouteSnapshot,\n  RouterStateSnapshot,\n  Router,\n} from '@angular/router';\nimport { Observable } from 'rxjs';\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { AngularFireAuth } from '@angular/fire/auth';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthGuard implements CanActivate {\n\n  constructor(\n    private router: Router,\n    private firebaseAuthentication: FirebaseAuthentication,\n    private fireAuth: AngularFireAuth\n    ) {}\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): boolean | Observable<boolean> | Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      this.fireAuth.auth.onAuthStateChanged((user: firebase.User) => {\n        if (user) {\n          console.log('User is logged in now');\n          resolve(true);\n        } else {\n          console.log('User is logged out now');\n          this.router.navigate(['/first']);\n          resolve(false);\n        }\n      });\n    });\n  }\n\n  getCurrentUser(){\n    //this.firebaseAuthentication.getCurrentUser().then(function(userInfo) {\n      // user information or null if not logged in\n // })\n  }\n}"],"sourceRoot":""}